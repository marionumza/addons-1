<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
                      <!-- educa.etab.section -->
        <record id="view_educa_etab_section_form" model="ir.ui.view">
            <field name="name">educa.etab.section.form</field>
            <field name="model">educa.etab.section</field>
            <field name="arch" type="xml">
                <form string="section">
                    <sheet>
                    <notebook>
                        <page name="line_ids" string="Employé/Discipline">
                            <field name="line_ids">
                                <tree editable="bottom">
                                    <field name="discipline_ids" widget="many2many_tags" options="{'no_create_edit': True}"/>
                                    <field name="employee_id"/>
                                </tree>
                            </field>
                         </page>

                      <page name="inscription_ids" string="Elève">
                        <field name="inscription_ids">
                            <tree decoration-success="state=='admis'" decoration-info="state=='draft'" decoration-danger="state=='redoublant'" decoration-muted="state=='exclu'" decoration-warning="state=='abandonner'">
                                <field name="name"/>
                                <field name="scholarly_id"/>
                                <field name="student_id"/>
                                <field name="etabli_origine"/>
                                <field name="structure"/>
                                <field name="year_line_id"/>
                                <field name="establishment_id"/>
                                <field name="type"/>
                                <field name="note"/>
                                <field name="notes"/>
                                <field name="state"/>
                            </tree>
                        </field>
                     </page>
                    </notebook>
                    </sheet>
                </form>

            </field>
        </record>

        <record id="view_educa_etab_section_tree" model="ir.ui.view">
            <field name="name">educa.etab.section.tree</field>
            <field name="model">educa.etab.section</field>
            <field name="arch" type="xml">
                <tree string="Section">
                    <field name="name"/>
                </tree>
            </field>
        </record>

        <record id="open_etab_etab_section" model="ir.actions.act_window">
            <field name="name">Section</field>
            <field name="res_model">educa.etab.section</field>
            <field name="view_mode">tree,form</field>
        </record>


              <!-- educa.etab.section.line -->
        <record id="view_educa_etab_section_line_form" model="ir.ui.view">
            <field name="name">educa.etab.section.line.form</field>
            <field name="model">educa.etab.section.line</field>
            <field name="arch" type="xml">
                <form string="Section/Employé/Dscipline">
                    <sheet>
                    <group>
                       <group>
                            <field name="section_id" invisible="1"/>
                            <field name="employee_id"/>
                            <field name="discipline_ids"/>
                        </group>
                    </group>
                    </sheet>
                </form>

            </field>
        </record>

        <record id="view_educa_etab_section_line_tree" model="ir.ui.view">
            <field name="name">educa.etab.section.line.tree</field>
            <field name="model">educa.etab.section.line</field>
            <field name="arch" type="xml">
                <tree string="Section/Employé/Dscipline">
                    <field name="section_id" invisible="1"/>
                    <field name="employee_id"/>
                    <field name="discipline_ids"/>
                </tree>
            </field>
        </record>

        <record id="open_etab_etab_section_line" model="ir.actions.act_window">
            <field name="name">Section/Employé/Dscipline</field>
            <field name="res_model">educa.etab.section.line</field>
            <field name="view_mode">tree,form</field>
        </record>


           <!-- inherit Année scolaire-->
    <record model="ir.ui.view" id="view_scolarity_form_inherit">
        <field name="name">year.scholarly.form</field>
        <field name="model">year.scholarly</field>
        <field name="inherit_id" ref="base_config.view_year_form"/>
        <field name="arch" type="xml">
            <notebook position="inside">
                 <page name="line_ids" string="Structure pedagogique" attrs="{'invisible':[('type','=','central')]}">
                    <field name="line_ids" attrs="{'readonly':[('state','!=','draft')]}">
                        <tree editable="bottom">
                            <field name="structure_id"/>
                             <field name="etablissement_id" invisible="1"/>
                            <field name="type" invisible="1"/>
                            <field name="section_number" sum="Sections "/>
                            <field name="inscriptions_count" sum="Inscriptions"/>
                            <field name="inscriptions_female" sum="Filles"/>
                            <field name="inscriptions_male" sum="Garçons"/>
                            <field name="redoubles_count" sum="Redoublant"/>
                            <field name="redouble_fille_count" sum="R Filles"/>
                            <field name="abandonner_count" sum="Abondonner"/>
                            <field name="exclu_count" sum="Exlus"/>
                            <field name="admis_count" sum="Admis"/>
                            <button name="action_structure_form_view" string="Open" type="object" class="oe_link"/>
                        </tree>
                    </field>
                </page>
                 <page name="task_ids" string="Tâches">
                    <field name="task_ids">
                        <tree editable="bottom">
                            <field name="name"/>
                            <field name="project_id" invisible="1"/>
                            <field name="date_start"/>
                            <field name="date_end"/>
                            <field name="date_deadline"/>
                            <field name="stage_id"/>
                        </tree>
                    </field>
                </page>
                <page name="dren" string="DREN" attrs="{'invisible':['|', ('type','=','central'), ('niveau','!=','central')]}">
                    <field name="dren_ids" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_open':True,'no_create':1,'no_create_edit':1}"/>
                </page>
                <page name="etablissement_ids" string="Etablissemnt Secondaire" attrs="{'invisible':['|', ('type','=','central'), ('niveau','=','etablissement')]}">
                    <field name="etablissement_ids" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_open':True,'no_create':1,'no_create_edit':1}"/>
                </page>
                <page name="inscription_draft_ids" string="Attente d'affectation" attrs="{'invisible':[('type','=','central')]}">
                    <field name="inscription_draft_ids"/>
                </page>
                 <page name="inscription_ids" string="Inscriptions" attrs="{'invisible':[('type','=','central')]}">
                    <field name="inscription_ids"/>
                </page>
                <page name="employee_ids" string="Employés">
                    <field name="employee_ids"/>
                </page>
            </notebook>
        </field>
    </record>

            <!-- line scholarly (structure pedag) -->
    <record model="ir.ui.view" id="view_year_scholarly_line_form">
        <field name="name">year.scholarly.line.form</field>
        <field name="model">year.scholarly.line</field>
        <field name="arch" type="xml">
             <form string="Structure Pédagogique">
                <sheet>
                   <notebook>
                       <field name="type" invisible="1"/>
                       <field name="etablissement_id" invisible="1"/>
                       <page name="section_ids" string="Sections" >
                            <field name="section_ids">
                                <tree editable="bottom">
                                    <field name="name"/>
                                    <button name="action_section_line_form_view" string="Ouvrir" type="object" class="oe_link"/>
                                </tree>
                            </field>
                         </page>
                        <page name="line_ids" string="Disciplines">
                            <field name="line_ids">
                                <tree editable="bottom">
                                    <field name="discipline_id"/>
                                    <field name="volume_horaire" sum="Total VHU"/>
                                    <field name="count_section" sum="Total S"/>
                                    <field name="volume_horaire_total" sum="Total VH"/>
                                </tree>
                            </field>
                        </page>
                         <page name="inscription_ids" string="Inscriptions">
                            <field name="inscription_ids"/>
                        </page>
                         <page name="employee_ids" string="Employés">
                            <field name="employee_ids">
                              <tree>
                                <field name="identification_id"/>
                                <field name="name"/>
                                <field name="nni"/>
                             </tree>
                            </field>
                         </page>
                         <page name="notes" string="Notes">
                            <field name="notes"/>
                         </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

        <!-- centrale fondamentale -->
    <record model="ir.ui.view" id="year_scholarly_form_view_fond">
        <field name="name">year.scholarly.form</field>
        <field name="model">year.scholarly</field>
        <field name="arch" type="xml">
             <form string="Année scolaire fondamentale" create="false">
                <header>
                    <button name="act_open" states="draft" type="object" string="Open" class="oe_highlight"/>
                    <button name="act_close" states="open" type="object" string="Close" class="oe_highlight"/>
                                        

                    <field name="state" widget="statusbar" statusbar_visible="draft,open,pending_closed,closed" />
                </header>
                <sheet>
                    <notebook>
                        <field name="type" invisible="1"/>
                         <field name="niveau" invisible="1"/>
                            <page name="line_ids" string="Structure pedagogique">
                                <field name="line_ids" attrs="{'readonly':[('state','!=','draft')]}">
                                    <tree editable="bottom">
                                        <field name="structure_id"/>
                                        <field name="type" invisible="1"/>
                                        <button name="action_structure_form_view" string="Ouvrir" type="object" class="oe_link"/>
                                    </tree>
                                </field>
                            </page>
                            <page name="dren" string="DREN">
                                <field name="dren_ids" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_open':True,'no_create':1,'no_create_edit':1}"/>
                            </page>
                             <page name="etablissement_ids" string="Etablissemnt Fondamentale">
                                <field name="etablissement_ids" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_open':True,'no_create':1,'no_create_edit':1}"/>
                            </page>
                            <page name="inscription_draft_ids" string="Attente d'affectation">
                                <field name="inscription_draft_ids"/>
                            </page>
                             <page name="inscription_ids" string="Inscriptions">
                                <field name="inscription_ids"/>
                            </page>
                        <page name="employee_ids" string="Employés">
                                <field name="employee_ids"/>
                            </page>
                    </notebook>
                </sheet>
             </form>
        </field>
    </record>

        <record model='ir.ui.view' id='year_scholarly_tree_view_fond'>
            <field name="name">year.scholarly.tree</field>
            <field name="model">year.scholarly</field>
            <field name="arch" type="xml">
                <tree create="false">
                    <field name="name"/>
                    <field name="year_start"/>
                    <field name="year_end"/>
                    <field name="state" />
                </tree>
            </field>
        </record>

        <record id="action_year_scholarly_fondamentale" model="ir.actions.act_window">
            <field name="name">Année  scolaire fondamentale (Centrale)</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">year.scholarly</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('type','=','fondamentale'), ('niveau','=','central')]</field>
            <field name="context">{'default_type': 'fondamentale', 'default_niveau': 'central'}</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click to create a New Year scholarly
                </p>
            </field>
        </record>

         <record model="ir.actions.act_window.view" id="action_year_fond_tree">
            <field name="sequence" eval="1"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="year_scholarly_tree_view_fond"/>
            <field name="act_window_id" ref="action_year_scholarly_fondamentale"/>
        </record>


        <record model="ir.actions.act_window.view" id="action_year_fond_form">
            <field name="sequence" eval="2"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="year_scholarly_form_view_fond"/>
            <field name="act_window_id" ref="action_year_scholarly_fondamentale"/>
        </record>

         <!-- dren fondamentale -->
    <record model="ir.ui.view" id="year_scholarly_form_view_dren_fond">
        <field name="name">year.scholarly.form</field>
        <field name="model">year.scholarly</field>
        <field name="arch" type="xml">
             <form string="Année scolaire fondamentale" create="false">
                <header>
                    <button name="act_open" states="draft" type="object" string="Open" class="oe_highlight"/>
                    <button name="act_close" states="open" type="object" string="Close" class="oe_highlight"/>
                    <button name="%(report_xlsx.year_scholarly_ouverture_repot_xls)d" string="Rapport ouverture  " type="action" icon="gtk-print"/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,open,pending_closed,closed" />
                </header>
                <sheet>
                    <notebook>
                        <field name="type" invisible="1"/>
                         <field name="niveau" invisible="1"/>
                            <page name="line_ids" string="Structure pedagogique">
                                <field name="line_ids" attrs="{'readonly':[('state','!=','draft')]}">
                                    <tree editable="bottom">
                                        <field name="structure_id"/>
                                        <field name="type" invisible="1"/>
                                        <button name="action_structure_form_view" string="Open" type="object" class="oe_link"/>
                                    </tree>
                                </field>
                            </page>
                            <page name="dren" string="DREN" invisible="1">
                                <field name="dren_ids" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_open':True,'no_create':1,'no_create_edit':1}"/>
                            </page>
                             <page name="etablissement_ids" string="Etablissemnt Fondamentale">
                                <field name="etablissement_ids" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_open':True,'no_create':1,'no_create_edit':1}"/>
                            </page>
                            <page name="inscription_ids" string="Inscriptions">
                                <field name="inscription_ids"/>
                            </page>
                        <page name="employee_ids" string="Employés">
                                <field name="employee_ids"/>
                            </page>
                    </notebook>
                </sheet>
             </form>
        </field>
    </record>

        <record model='ir.ui.view' id='year_scholarly_tree_view_dren_fond'>
            <field name="name">year.scholarly.tree</field>
            <field name="model">year.scholarly</field>
            <field name="arch" type="xml">
                <tree create="false">
                    <field name="name"/>
                     <field name="type" invisible="1"/>
                     <field name="niveau" invisible="1"/>
                    <field name="year_start"/>
                    <field name="year_end"/>
                    <field name="state" />
                </tree>
            </field>
        </record>

        <record id="action_year_scholarly_fondamentale_dren" model="ir.actions.act_window">
            <field name="name">Année  scolaire fondamentale (DREN)</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">year.scholarly</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('type','=','fondamentale'), ('niveau','=','dren')]</field>
            <field name="context">{'default_type': 'fondamentale', 'default_niveau': 'dren'}</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click to create a New Year scholarly
                </p>
            </field>
        </record>

         <record model="ir.actions.act_window.view" id="action_year_fond_dren_tree">
            <field name="sequence" eval="1"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="year_scholarly_tree_view_dren_fond"/>
            <field name="act_window_id" ref="action_year_scholarly_fondamentale_dren"/>
        </record>


        <record model="ir.actions.act_window.view" id="action_year_fond_dren_form">
            <field name="sequence" eval="2"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="year_scholarly_form_view_dren_fond"/>
            <field name="act_window_id" ref="action_year_scholarly_fondamentale_dren"/>
        </record>


         <!-- etab fondamentale -->
    <record model="ir.ui.view" id="year_scholarly_form_view_etab_fond">
        <field name="name">year.scholarly.form</field>
        <field name="model">year.scholarly</field>
        <field name="arch" type="xml">
             <form string="Année scolaire fondamentale" create="false">
                <header>
                    <button name="act_open" states="draft" type="object" string="Open" class="oe_highlight"/>
                    <button name="act_close" states="open" type="object" string="Close" class="oe_highlight"/>
                    <button name="%(report_xlsx.year_scholarly_ouverture_repot_xls)d" string="Rapport ouverture  " type="action" icon="gtk-print"/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,open,pending_closed,closed" />
                </header>
                <sheet>
                    <notebook>
                         <field name="type" invisible="1"/>
                         <field name="niveau" invisible="1"/>
                            <page name="line_ids" string="Structure pedagogique">
                                <field name="line_ids" attrs="{'readonly':[('state','!=','draft')]}">
                                    <tree editable="bottom">
                                        <field name="structure_id"/>
                                        <field name="type" invisible="1"/>
                                        <field name="section_number" sum="Sections "/>
                                        <field name="inscriptions_count" sum="Inscriptions"/>
                                        <field name="inscriptions_female" sum="Filles"/>
                                        <field name="inscriptions_male" sum="Garçons"/>
                                        <field name="redoubles_count" sum="Redoublant"/>
                                        <field name="redouble_fille_count" sum="R Filles"/>
                                        <field name="abandonner_count" sum="Abondonner"/>
                                        <field name="exclu_count" sum="Exlus"/>
                                        <field name="admis_count" sum="Admis"/>
                                        <button name="action_structure_form_view" string="Open" type="object" class="oe_link"/>
                                    </tree>
                                </field>
                            </page>
                            <page name="dren" string="DREN" invisible="1">
                                <field name="dren_ids" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_open':True,'no_create':1,'no_create_edit':1}"/>
                            </page>
                             <page name="etablissement_ids" string="Etablissemnt Fondamentale" invisible="1">
                                <field name="etablissement_ids" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_open':True,'no_create':1,'no_create_edit':1}"/>
                            </page>
                            <page name="inscription_ids" string="Inscriptions">
                                <field name="inscription_ids"/>
                            </page>
                            <page name="employee_ids" string="Employés">
                                <field name="employee_ids"/>
                            </page>
                    </notebook>
                </sheet>
             </form>
        </field>
    </record>

        <record model='ir.ui.view' id='year_scholarly_tree_view_etab_fond'>
            <field name="name">year.scholarly.tree</field>
            <field name="model">year.scholarly</field>
            <field name="arch" type="xml">
                <tree create="false">
                    <field name="name"/>
                     <field name="type" invisible="1"/>
                     <field name="niveau" invisible="1"/>
                    <field name="year_start"/>
                    <field name="year_end"/>
                    <field name="state" />
                </tree>
            </field>
        </record>

        <record id="action_year_scholarly_fondamentale_etab" model="ir.actions.act_window">
            <field name="name">Année  scolaire fondamentale (Etablissement)</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">year.scholarly</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('type','=','fondamentale'), ('niveau','=','etablissement')]</field>
            <field name="context">{'default_type': 'fondamentale', 'default_niveau': 'etablissement'}</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click to create a New Year scholarly
                </p>
            </field>
        </record>

         <record model="ir.actions.act_window.view" id="action_year_fond_etab_tree">
            <field name="sequence" eval="1"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="year_scholarly_tree_view_etab_fond"/>
            <field name="act_window_id" ref="action_year_scholarly_fondamentale_etab"/>
        </record>


        <record model="ir.actions.act_window.view" id="action_year_fond_etab_form">
            <field name="sequence" eval="2"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="year_scholarly_form_view_etab_fond"/>
            <field name="act_window_id" ref="action_year_scholarly_fondamentale_etab"/>
        </record>

        <!--central secondaire-->

        <record model='ir.ui.view' id='year_scholarly_form_sec_view'>
        <field name="name">year.scholarly.form</field>
        <field name="model">year.scholarly</field>
        <field name="arch" type="xml">
            <form string="Year Scholarly" create="false">
                <header>
                    <button name="act_open" states="draft" type="object" string="Open" class="oe_highlight"/>
                    <button name="act_close" states="open" type="object" string="Close" class="oe_highlight"/>
                    <button name="%(report_xlsx.year_scholarly_ouverture_repot_xls)d" string="Rapport ouverture  " type="action" icon="gtk-print"/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,open,pending_closed,closed" />
                </header>
                <sheet>
                     <notebook>
                         <field name="type" invisible="1"/>
                         <field name="niveau" invisible="1"/>
                        <page name="line_ids" string="Structure pedagogique">
                                <field name="line_ids" attrs="{'readonly':[('state','!=','draft')]}">
                                    <tree editable="bottom">
                                        <field name="structure_id"/>
                                         <field name="etablissement_id" invisible="1"/>
                                        <field name="type" invisible="1"/>
                                        <field name="section_number" sum="Sections"/>
                                        <field name="inscriptions_count" sum="Inscriptions"/>
                                        <field name="inscriptions_female" sum="Filles"/>
                                        <field name="inscriptions_male" sum="Garçons"/>
                                        <field name="redoubles_count" sum="Redoublant"/>
                                        <field name="redouble_fille_count" sum="R Filles"/>
                                        <field name="abandonner_count" sum="Abondonner"/>
                                        <field name="exclu_count" sum="Exlus"/>
                                        <field name="admis_count" sum="Admis"/>
                                        <button name="action_structure_form_view" string="Open" type="object" class="oe_link"/>
                                    </tree>
                                </field>
                            </page>
                        <page name="dren" string="DREN">
                            <field name="dren_ids" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_open':True,'no_create':1,'no_create_edit':1}"/>
                        </page>
                        <page name="etablissement_ids" string="Etablissemnt Secondaire">
                            <field name="etablissement_ids" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_open':True,'no_create':1,'no_create_edit':1}"/>
                        </page>
                        <page name="inscription_draft_ids" string="Attente d'affectation">
                            <field name="inscription_draft_ids"/>
                        </page>
                         <page name="inscription_ids" string="Inscriptions">
                            <field name="inscription_ids"/>
                        </page>
                         <page name="employee_ids" string="Employés">
                                <field name="employee_ids"/>
                            </page>
                     </notebook>
                </sheet>
            </form>
        </field>
        </record>

        <record model='ir.ui.view' id='year_scholarly_list_tree_sec_view'>
            <field name="name">year.scholarly.tree</field>
            <field name="model">year.scholarly</field>
            <field name="arch" type="xml">
                <tree create="false">
                    <field name="name"/>
                     <field name="type" invisible="1"/>
                     <field name="niveau" invisible="1"/>
                    <field name="year_start"/>
                    <field name="year_end"/>
                    <field name="state" />
                </tree>
            </field>
        </record>

        <record id="action_year_scholarly_sec" model="ir.actions.act_window">
            <field name="name">Année  scolaire secondaire (Centrale)</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">year.scholarly</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('type','=','secondaire'), ('niveau','=','central')]</field>
            <field name="context">{'default_type': 'secondaire', 'default_niveau': 'central'}</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click to create a New Year scholarly
                </p>
            </field>
        </record>

        <record model="ir.actions.act_window.view" id="action_year_sec_tree">
            <field name="sequence" eval="1"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="year_scholarly_list_tree_sec_view"/>
            <field name="act_window_id" ref="action_year_scholarly_sec"/>
        </record>


        <record model="ir.actions.act_window.view" id="action_year_sec_form">
            <field name="sequence" eval="2"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="year_scholarly_form_sec_view"/>
            <field name="act_window_id" ref="action_year_scholarly_sec"/>
        </record>

          <!--dren secondaire-->

        <record model='ir.ui.view' id='year_scholarly_form_sec_dren_view'>
        <field name="name">year.scholarly.form</field>
        <field name="model">year.scholarly</field>
        <field name="arch" type="xml">
            <form string="Year Scholarly" create="false">
                <header>
                    <button name="act_open" states="draft" type="object" string="Open" class="oe_highlight"/>
                    <button name="act_close" states="open" type="object" string="Close" class="oe_highlight"/>
                     <button class=" oe_highlight"
                            name="%(report_xlsx.year_scholarly_ouverture_repot_xls)d"
                            string="Rapport ouverture année "
                            type="action"  icon="fa fa-bar-chart"
                            attrs="{'invisible':[('state','!=','draft'),('state','!=','open')]}"/>
                    <button class=" oe_highlight"
                            name="%(report_xlsx.year_scholarly_fermeture_repot_xls)d"
                            string="Rapport Fermeture année "
                            type="action"  icon="fa fa-bar-chart"
                            attrs="{'invisible':[('state','!=','closed'),('state','!=','pending_closed')]}"/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,open,pending_closed,closed" />
                </header>
                <sheet>
                     <notebook>
                         <field name="type" invisible="1"/>
                         <field name="niveau" invisible="1"/>
                        <page name="line_ids" string="Structure pedagogique">
                            <field name="line_ids" attrs="{'readonly':[('state','!=','draft')]}">
                                 <tree editable="bottom">
                                    <field name="structure_id"/>
                                     <field name="etablissement_id" invisible="1"/>
                                    <field name="type" invisible="1"/>
                                    <field name="section_number" sum="Sections "/>
                                    <field name="inscriptions_count" sum="Inscriptions"/>
                                    <field name="inscriptions_female" sum="Filles"/>
                                    <field name="inscriptions_male" sum="Garçons"/>
                                    <field name="redoubles_count" sum="Redoublant"/>
                                    <field name="redouble_fille_count" sum="R Filles"/>
                                    <field name="abandonner_count" sum="Abondonner"/>
                                    <field name="exclu_count" sum="Exlus"/>
                                     <field name="admis_count" sum="Admis"/>
                                    <button name="action_structure_form_view" string="Open" type="object" class="oe_link"/>
                                </tree>
                            </field>
                        </page>
                        <page name="dren" string="DREN" invisible="1">
                            <field name="dren_ids" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_open':True,'no_create':1,'no_create_edit':1}"/>
                        </page>
                        <page name="etablissement_ids" string="Etablissemnt Secondaire">
                            <field name="etablissement_ids" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_open':True,'no_create':1,'no_create_edit':1}"/>
                        </page>
                        <page name="inscription_ids" string="Inscriptions">
                            <field name="inscription_ids"/>
                        </page>
                         <page name="employee_ids" string="Employés">
                                <field name="employee_ids"/>
                            </page>

                     </notebook>
                </sheet>
            </form>
        </field>
        </record>

        <record model='ir.ui.view' id='year_scholarly_list_tree_sec_dren_view'>
            <field name="name">year.scholarly.tree</field>
            <field name="model">year.scholarly</field>
            <field name="arch" type="xml">
                <tree create="false">
                    <field name="name"/>
                     <field name="type" invisible="1"/>
                     <field name="niveau" invisible="1"/>
                    <field name="year_start"/>
                    <field name="year_end"/>
                    <field name="state" />
                </tree>
            </field>
        </record>

        <record id="action_year_scholarly_sec_dren" model="ir.actions.act_window">
            <field name="name">Année  scolaire secondaire (DREN)</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">year.scholarly</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('type','=','secondaire'), ('niveau','=','dren')]</field>
            <field name="context">{'default_type': 'secondaire', 'default_niveau': 'dren'}</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click to create a New Year scholarly
                </p>
            </field>
        </record>

        <record model="ir.actions.act_window.view" id="action_year_sec_dren_tree">
            <field name="sequence" eval="1"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="year_scholarly_list_tree_sec_dren_view"/>
            <field name="act_window_id" ref="action_year_scholarly_sec_dren"/>
        </record>


        <record model="ir.actions.act_window.view" id="action_year_sec_dren_form">
            <field name="sequence" eval="2"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="year_scholarly_form_sec_dren_view"/>
            <field name="act_window_id" ref="action_year_scholarly_sec_dren"/>
        </record>

           <!--etab secondaire-->

        <record model='ir.ui.view' id='year_scholarly_form_sec_etab_view'>
        <field name="name">year.scholarly.form</field>
        <field name="model">year.scholarly</field>
        <field name="arch" type="xml">
            <form string="Year Scholarly" create="false">
                <header>
                    <button name="act_open" states="draft" type="object" string="Open" class="oe_highlight"/>
                    <button name="act_close" states="open" type="object" string="Close" class="oe_highlight"/>
 
 
                    <button class=" oe_highlight"
                            name="%(report_xlsx.year_scholarly_ouverture_repot_xls)d"
                            string="Rapport ouverture année "
                            type="action"  icon="fa fa-bar-chart"
                            attrs="{'invisible':[('state','!=','draft'),('state','!=','open')]}"/>
                    <button class=" oe_highlight"
                            name="%(report_xlsx.year_scholarly_fermeture_repot_xls)d"
                            string="Rapport Fermeture année "
                            type="action"  icon="fa fa-bar-chart"
                            attrs="{'invisible':[('state','!=','closed'),('state','!=','pending_closed')]}"/>
                     <field name="state" widget="statusbar" statusbar_visible="draft,open,pending_closed,closed" />
                </header>
                <sheet>
                     <notebook>
                         <field name="type" invisible="1"/>
                         <field name="niveau" invisible="1"/>
                        <page name="line_ids" string="Structure pedagogique">
                            <field name="line_ids" attrs="{'readonly':[('state','!=','draft')]}">
                                <tree editable="bottom">
                                    <field name="structure_id"/>
                                     <field name="etablissement_id" invisible="1"/>
                                    <field name="type" invisible="1"/>
                                    <field name="section_number" sum="Sections "/>
                                    <field name="inscriptions_count" sum="Inscriptions"/>
                                    <field name="inscriptions_female" sum="Filles"/>
                                    <field name="inscriptions_male" sum="Garçons"/>
                                    <field name="redoubles_count" sum="Redoublant"/>
                                    <field name="redouble_fille_count" sum="R Filles"/>
                                    <field name="abandonner_count" sum="Abondonner"/>
                                    <field name="exclu_count" sum="Exlus"/>
                                    <field name="admis_count" sum="Admis"/>
                                    <button name="action_structure_form_view" string="Open" type="object" class="oe_link"/>
                                </tree>
                            </field>
                        </page>
                        <page name="dren" string="DREN" invisible="1">
                            <field name="dren_ids" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_open':True,'no_create':1,'no_create_edit':1}"/>
                        </page>
                        <page name="etablissement_ids" string="Etablissemnt Secondaire" invisible="1">
                            <field name="etablissement_ids" attrs="{'readonly':[('state','!=','draft')]}" options="{'no_open':True,'no_create':1,'no_create_edit':1}"/>
                        </page>
                        <page name="inscription_ids" string="Inscriptions">
                            <field name="inscription_ids"/>
                        </page>
                         <page name="employee_ids" string="Employés">
                            <field name="employee_ids"/>
                        </page>
                     </notebook>
                </sheet>
            </form>
        </field>
        </record>


        <record model='ir.ui.view' id='year_scholarly_list_tree_sec_etab_view'>
            <field name="name">year.scholarly.tree</field>
            <field name="model">year.scholarly</field>
            <field name="arch" type="xml">
                <tree create="false">
                    <field name="name"/>
                     <field name="type" invisible="1"/>
                     <field name="niveau" invisible="1"/>
                    <field name="year_start"/>
                    <field name="year_end"/>
                    <field name="state" />
                </tree>
            </field>
        </record>

        <record id="action_year_scholarly_sec_etab" model="ir.actions.act_window">
            <field name="name">Année  scolaire secondaire (Etablissement)</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">year.scholarly</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('type','=','secondaire'), ('niveau','=','etablissement')]</field>
            <field name="context">{'default_type': 'secondaire', 'default_niveau': 'etablissement'}</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click to create a New Year scholarly
                </p>
            </field>
        </record>

        <record model="ir.actions.act_window.view" id="action_year_sec_etab_tree">
            <field name="sequence" eval="1"/>
            <field name="view_mode">tree</field>
            <field name="view_id" ref="year_scholarly_list_tree_sec_etab_view"/>
            <field name="act_window_id" ref="action_year_scholarly_sec_etab"/>
        </record>


        <record model="ir.actions.act_window.view" id="action_year_sec_etab_form">
            <field name="sequence" eval="2"/>
            <field name="view_mode">form</field>
            <field name="view_id" ref="year_scholarly_form_sec_etab_view"/>
            <field name="act_window_id" ref="action_year_scholarly_sec_etab"/>
        </record>

           <!-- inherit task-->
    <record model="ir.ui.view" id="view_task_form_inherit">
        <field name="name">project.task.form</field>
        <field name="model">project.task</field>
        <field name="inherit_id" ref="project.view_task_form2"/>
        <field name="arch" type="xml">
            <field name="project_id" position="replace">
                <field name="project_id" invisible="1"/>
                <field name="scholarly_id"/>
            </field>
        </field>
    </record>

    <record model="ir.ui.view" id="view_task_search_inherit">
        <field name="name">project.task.form</field>
        <field name="model">project.task</field>
        <field name="inherit_id" ref="project.view_task_search_form"/>
        <field name="arch" type="xml">
            <field name="tag_ids" position="replace"/>
            <field name="partner_id" position="replace"/>
            <field name="project_id" position="replace"/>
            <field name="user_id" position="replace"/>
            <filter name="my_tasks" position="replace"/>
            <filter name="unassigned" position="replace"/>
            <filter name="starred" position="replace"/>
            <filter name="message_needaction" position="replace"/>
            <filter name="inactive" position="replace"/>
            <filter name="activities_my" position="replace"/>
            <filter name="activities_overdue" position="before">
               <filter string="Année scolaire" name="scolarite" context="{'group_by':'scholarly_id'}"/>
            </filter>
            <filter name="group_message_last_post" position="replace"/>
            <field name="name" position="replace">
                <field name="scholarly_id"/>
            </field>
        </field>
    </record>

    </data>
</odoo>
